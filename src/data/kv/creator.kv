#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import get_font src.gui.utils.get_font
#:import HoverButton src.gui.utils.HoverButton
#:import Thread threading.Thread
#:import InputItem src.gui.utils.InputItem
#:import NoEnterInputItem src.gui.utils.NoEnterInputItem
#:import FourNumInput src.gui.utils.FourNumInput
#:import ThreeNumInput src.gui.utils.ThreeNumInput
#:import FourCharInput src.gui.utils.FourCharInput

<CreatorPanel>:
    id: panel_creator
    do_default_tab: False
    tab_width: dp(120)
    tab_height: dp(30)
    padding: dp(5)
    tab_spacing: 0
    canvas:
        Color:
            rgba: get_color_from_hex("#141414")
        Rectangle:
            size: self.size
            pos: self.pos

<CreatorNormalLayout>:
    id: creator_norm
    cols: 1
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        valign: "middle"
        InputItem:
            id: name
            hint_text: "Card Name"
            multiline: False
            size_hint_x: 2
            font_size: sp(20)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        InputItem:
            id: mana_cost
            hint_text: "{1}{W}{U}{B}{R}{G}"
            multiline: False
            font_name: get_font("PlantinMTProRg.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        InputItem:
            id: color_identity
            hint_text: "WUBRG"
            size_hint_x: .5
            multiline: False
            halign: "center"
            font_name: get_font("PlantinMTProRg.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 2
        InputItem:
            id: oracle_text
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "Rules text"
    BoxLayout:
        orientation: "horizontal"
        size_hint: (1, 2)
        InputItem:
            id: flavor_text
            font_size: sp(20)
            font_name: get_font("PlantinMTProRgIt.ttf", "Roboto-Italic")
            hint_text: "Flavor text"
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        InputItem:
            id: type_line
            text: "Type — Subtype"
            size_hint_x: 5
            multiline: False
            font_size: sp(20)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        FourNumInput:
            id: collector_number
            hint_text: "001"
            size_hint_x: .12
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
        FourNumInput:
            id: card_count
            hint_text: "100"
            size_hint_x: .12
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
        FourCharInput:
            id: set
            hint_text: "SET"
            size_hint_x: .12
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
        InputItem:
            id: keywords
            hint_text: "Keyword,Keyword 2"
            multiline: False
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        ThreeNumInput:
            id: power
            hint_text: "1"
            size_hint_x: .08
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
        Label:
            text: "/"
            size_hint_x: .05
        ThreeNumInput:
            id: toughness
            hint_text: "1"
            size_hint_x: .08
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        InputItem:
            id: artist
            hint_text: "Artist"
            size_hint_x: 2.5
            multiline: False
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        Spinner:
            id: rarity
            text: "Common"
            values: ["Common", "Uncommon", "Rare", "Mythic"]
        Spinner:
            id: template
            text: "Normal"
            values: root._template_names
            on_text: root.select_template(self)
        HoverButton:
            id: render_custom
            text: "Render Custom"
            font_size: sp(16)
            background_color: get_color_from_hex("#376aa3")
            font_name: get_font("Beleren Small Caps.ttf")
            on_press: Thread(target=root.render, daemon=True).start()

<CreatorPlaneswalkerLayout>:
    id: creator_pw
    cols: 1
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        valign: "middle"
        InputItem:
            id: name
            hint_text: "Card Name"
            multiline: False
            size_hint_x: 2
            font_size: sp(16)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        InputItem:
            id: mana_cost
            hint_text: "{1}{W}{U}{B}{R}{G}"
            multiline: False
            font_name: get_font("PlantinMTProRg.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        InputItem:
            id: color_identity
            hint_text: "WUBRG"
            size_hint_x: .5
            multiline: False
            halign: "center"
            font_name: get_font("PlantinMTProRg.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_1
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "This is a static ability."
    BoxLayout:
        orientation: "horizontal"
        size_hint: (1, 2)
        size_hint_y: 1
        NoEnterInputItem:
            id: line_2
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "+1: This ability increases loyalty."
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_3
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "-1: This ability decreases loyalty."
    BoxLayout:
        orientation: "horizontal"
        size_hint: (1, 2)
        size_hint_y: 1
        NoEnterInputItem:
            id: line_4
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "0: Planeswalkers need at least 2 ability lines."
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        InputItem:
            id: type_line
            text: "Legendary Planeswalker — Jace"
            size_hint_x: 4
            multiline: False
            font_size: sp(20)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        InputItem:
            id: keywords
            hint_text: "Keyword,Keyword 2"
            size_hint_x: 3.15
            multiline: False
            halign: "center"
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        ThreeNumInput:
            id: loyalty
            hint_text: "6"
            size_hint_x: .3
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        FourNumInput:
            id: collector_number
            hint_text: "001"
            size_hint_x: .4
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
        FourNumInput:
            id: card_count
            hint_text: "100"
            size_hint_x: .4
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
        FourCharInput:
            id: set
            hint_text: "SET"
            size_hint_x: .4
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
        InputItem:
            id: artist
            hint_text: "Artist"
            size_hint_x: 2.5
            multiline: False
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        Spinner:
            id: rarity
            text: "Common"
            values: ["Common", "Uncommon", "Rare", "Mythic"]
        Spinner:
            id: template
            text: "Normal"
            values: root._template_names
            on_text: root.select_template(self)
        HoverButton:
            id: render_custom
            size_hint_x: 1.2
            text: "Render Custom"
            font_size: sp(16)
            background_color: get_color_from_hex("#376aa3")
            font_name: get_font("Beleren Small Caps.ttf")
            on_press: Thread(target=root.render, daemon=True).start()

<CreatorSagaLayout>:
    id: creator_saga
    cols: 1
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        valign: "middle"
        InputItem:
            id: name
            hint_text: "Card Name"
            multiline: False
            size_hint_x: 2
            font_size: sp(20)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        InputItem:
            id: mana_cost
            hint_text: "{1}{W}{U}{B}{R}{G}"
            multiline: False
            font_name: get_font("PlantinMTProRg.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        InputItem:
            id: color_identity
            hint_text: "WUBRG"
            size_hint_x: .5
            multiline: False
            halign: "center"
            font_name: get_font("PlantinMTProRg.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_1
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "First line"
    BoxLayout:
        orientation: "horizontal"
        size_hint: (1, 2)
        size_hint_y: 1
        NoEnterInputItem:
            id: line_2
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "Second line"
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_3
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "Third line [optional]"
    BoxLayout:
        orientation: "horizontal"
        size_hint: (1, 2)
        size_hint_y: 1
        NoEnterInputItem:
            id: line_4
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "Fourth line [optional]"
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        InputItem:
            id: type_line
            text: "Enchantment — Saga"
            size_hint_x: 5
            multiline: False
            font_size: sp(20)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        InputItem:
            id: keywords
            hint_text: "Keyword,Keyword 2"
            size_hint_x: 2.34
            multiline: False
            halign: "center"
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        FourNumInput:
            id: collector_number
            hint_text: "001"
            size_hint_x: .4
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
        FourNumInput:
            id: card_count
            hint_text: "100"
            size_hint_x: .4
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
        FourCharInput:
            id: set
            hint_text: "SET"
            size_hint_x: .4
            multiline: False
            padding: [0, self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0, 0]
            halign: "center"
        InputItem:
            id: artist
            hint_text: "Artist"
            size_hint_x: 2.5
            multiline: False
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding: [dp(6), self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), dp(6), 0]
        Spinner:
            id: rarity
            text: "Common"
            values: ["Common", "Uncommon", "Rare", "Mythic"]
        Spinner:
            id: template
            text: "Normal"
            values: root._template_names
            on_text: root.select_template(self)
        HoverButton:
            id: render_custom
            size_hint_x: 1.2
            text: "Render Custom"
            font_size: sp(16)
            background_color: get_color_from_hex("#376aa3")
            font_name: get_font("Beleren Small Caps.ttf")
            on_press: Thread(target=root.render, daemon=True).start()