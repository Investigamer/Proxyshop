#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import get_font src.gui.utils.get_font
#:import HoverButton src.gui.utils.HoverButton
#:import Thread threading.Thread
#:import InputItem src.gui.utils.InputItem
#:import NoEnterInputItem src.gui.utils.NoEnterInputItem
#:import FourNumInput src.gui.utils.FourNumInput
#:import ThreeNumInput src.gui.utils.ThreeNumInput
#:import FourCharInput src.gui.utils.FourCharInput
#:import RaritySpinner src.gui.utils.RaritySpinner
#:import RenderCustomButton src.gui.utils.RenderCustomButton
#:import CollectorInput src.gui.utils.CollectorInput
#:import SetCodeInput src.gui.utils.SetCodeInput
#:import VerticalCenteredInput src.gui.utils.VerticalCenteredInput

<CreatorPanel>:
    id: panel_creator
    do_default_tab: False
    tab_width: dp(120)
    tab_height: dp(30)
    padding: dp(5)
    tab_spacing: 0
    canvas:
        Color:
            rgba: get_color_from_hex("#141414")
        Rectangle:
            size: self.size
            pos: self.pos

<CreatorNormalLayout>:
    id: creator_norm
    cols: 1
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        valign: "middle"
        VerticalCenteredInput:
            id: name
            hint_text: "Card Name"
            size_hint_x: 2
            font_size: sp(20)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding_x: dp(6), dp(6)
        VerticalCenteredInput:
            id: mana_cost
            hint_text: "{1}{W}{U}{B}{R}{G}"
            font_name: get_font("PlantinMTProRg.ttf")
            padding_x: dp(6), dp(6)
        VerticalCenteredInput:
            id: color_identity
            hint_text: "WUBRG"
            size_hint_x: .5
            halign: "center"
            font_name: get_font("PlantinMTProRg.ttf")
            padding_x: dp(6), dp(6)
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 2
        InputItem:
            id: oracle_text
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "Rules text"
            multiline: True
    BoxLayout:
        orientation: "horizontal"
        size_hint: (1, 2)
        InputItem:
            id: flavor_text
            font_size: sp(20)
            font_name: get_font("PlantinMTProRgIt.ttf", "Roboto-Italic")
            hint_text: "Flavor text"
            multiline: True
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        VerticalCenteredInput:
            id: type_line
            text: "Type — Subtype"
            size_hint_x: 5
            font_size: sp(20)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding_x: dp(6), dp(6)
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        CollectorInput:
            id: collector_number
            size_hint_x: .12
        CollectorInput:
            id: card_count
            hint_text: "100"
            size_hint_x: .12
        SetCodeInput:
            id: set
            size_hint_x: .12
        VerticalCenteredInput:
            id: keywords
            hint_text: "Keyword,Keyword 2"
            padding_x: dp(6), dp(6)
        PTInput:
            id: power
            size_hint_x: .08
        Label:
            text: "/"
            size_hint_x: .05
        PTInput:
            id: toughness
            size_hint_x: .08
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        VerticalCenteredInput:
            id: artist
            hint_text: "Artist"
            size_hint_x: 2.5
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding_x: dp(6), dp(6)
        RaritySpinner:
            id: rarity
        Spinner:
            id: template
            text: "Normal"
            values: root._template_names
            on_text: root.select_template(self)
        RenderCustomButton:
            id: render_btn
            press_action: root.render

<CreatorPlaneswalkerLayout>:
    id: creator_pw
    cols: 1
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        valign: "middle"
        VerticalCenteredInput:
            id: name
            hint_text: "Card Name"
            size_hint_x: 2
            font_size: sp(20)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding: dp(6), dp(6)
        VerticalCenteredInput:
            id: mana_cost
            hint_text: "{1}{W}{U}{B}{R}{G}"
            font_name: get_font("PlantinMTProRg.ttf")
            padding: dp(6), dp(6)
        VerticalCenteredInput:
            id: color_identity
            hint_text: "WUBRG"
            size_hint_x: .5
            halign: "center"
            font_name: get_font("PlantinMTProRg.ttf")
            padding_x: dp(6), dp(6)
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_1
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "This is a static ability."
            multiline: True
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_2
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "+1: This ability increases loyalty."
            multiline: True
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_3
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "-1: This ability decreases loyalty."
            multiline: True
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_4
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "0: Planeswalkers need at least 2 ability lines."
            multiline: True
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        VerticalCenteredInput:
            id: type_line
            text: "Legendary Planeswalker — Jace"
            size_hint_x: 4
            font_size: sp(20)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding_x: dp(6), dp(6)
        VerticalCenteredInput:
            id: keywords
            hint_text: "Keyword,Keyword 2"
            size_hint_x: 3.15
            halign: "center"
            padding_x: dp(6), dp(6)
        PTInput:
            id: loyalty
            hint_text: "6"
            size_hint_x: .3
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        CollectorInput:
            id: collector_number
            size_hint_x: .4
        CollectorInput:
            id: card_count
            hint_text: "100"
            size_hint_x: .4
        SetCodeInput:
            id: set
            size_hint_x: .4
        VerticalCenteredInput:
            id: artist
            hint_text: "Artist"
            size_hint_x: 2.5
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding_x: dp(6), dp(6)
        RaritySpinner:
            id: rarity
        Spinner:
            id: template
            text: "Normal"
            values: root._template_names
            on_text: root.select_template(self)
        RenderCustomButton:
            id: render_btn
            press_action: root.render
            size_hint_x: 1.2

<CreatorSagaLayout>:
    id: creator_saga
    cols: 1
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        valign: "middle"
        VerticalCenteredInput:
            id: name
            hint_text: "Card Name"
            size_hint_x: 2
            font_size: sp(20)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding_x: dp(6), dp(6)
        VerticalCenteredInput:
            id: mana_cost
            hint_text: "{1}{W}{U}{B}{R}{G}"
            font_name: get_font("PlantinMTProRg.ttf")
            padding_x: dp(6), dp(6)
        VerticalCenteredInput:
            id: color_identity
            hint_text: "WUBRG"
            size_hint_x: .5
            halign: "center"
            font_name: get_font("PlantinMTProRg.ttf")
            padding_x: dp(6), dp(6)
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_1
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "First line"
            multiline: True
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_2
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "Second line"
            multiline: True
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_3
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "Third line [optional]"
            multiline: True
    BoxLayout:
        orientation: "horizontal"
        size_hint_y: 1
        NoEnterInputItem:
            id: line_4
            font_size: sp(20)
            font_name: get_font("PlantinMTProRg.ttf")
            hint_text: "Fourth line [optional]"
            multiline: True
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        VerticalCenteredInput:
            id: type_line
            text: "Enchantment — Saga"
            size_hint_x: 5
            font_size: sp(20)
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding_x: dp(6), dp(6)
        VerticalCenteredInput:
            id: keywords
            hint_text: "Keyword,Keyword 2"
            size_hint_x: 2.34
            halign: "center"
            padding_x: dp(6), dp(6)
    BoxLayout:
        size_hint_y: .75
        orientation: "horizontal"
        CollectorInput:
            id: collector_number
            size_hint_x: .4
        CollectorInput:
            id: card_count
            hint_text: "100"
            size_hint_x: .4
        SetCodeInput:
            id: set
            size_hint_x: .4
        VerticalCenteredInput:
            id: artist
            hint_text: "Artist"
            size_hint_x: 2.5
            font_name: get_font("BelerenProxy-Bold.ttf")
            padding_x: dp(6), dp(6)
        RaritySpinner:
            id: rarity
        Spinner:
            id: template
            text: "Normal"
            values: root._template_names
            on_text: root.select_template(self)
        RenderCustomButton:
            id: render_btn
            press_action: root.render
            size_hint_x: 1.2
